// Code generated by dbcodegen. DO NOT EDIT.
// Schema: quasar

package graviton.pg.generated.quasar
import com.augustnagro.magnum._
import graviton.db.{ _, given }
import zio.Chunk
import zio.json.ast.Json
import zio.schema.{ DeriveSchema, Schema }
import zio.schema.validation.Validation
enum SchemaStatus(val value: String) {
  case draft extends SchemaStatus("draft")
  case active extends SchemaStatus("active")
  case deprecated extends SchemaStatus("deprecated")
  case revoked extends SchemaStatus("revoked")
}
object SchemaStatus { given Schema[SchemaStatus] = DeriveSchema.gen[SchemaStatus] }
enum LifecycleStatus(val value: String) {
  case active extends LifecycleStatus("active")
  case draining extends LifecycleStatus("draining")
  case deprecated extends LifecycleStatus("deprecated")
  case dead extends LifecycleStatus("dead")
}
object LifecycleStatus { given Schema[LifecycleStatus] = DeriveSchema.gen[LifecycleStatus] }
@Table(PostgresDbType) final case class VDocUploadClaims(@SqlName("org_id") orgId: Option[java.util.UUID], @SqlName("doc_version_id") docVersionId: Option[java.util.UUID], @SqlName("namespace_id") namespaceId: Option[java.util.UUID], @SqlName("claimed_size") claimedSize: Option[NonNegLong], @SqlName("media_type") mediaType: Option[String], @SqlName("file_name") fileName: Option[String]) derives DbCodec
object VDocUploadClaims {
  type Id = Null
  val repo = ImmutableRepo[VDocUploadClaims, VDocUploadClaims.Id]
}
@Table(PostgresDbType) final case class SchemaRegistry(@Id @SqlName("schema_id") schemaId: java.util.UUID, @SqlName("org_id") orgId: Option[java.util.UUID], @SqlName("schema_urn") schemaUrn: String, @SqlName("schema_json") schemaJson: Json, @SqlName("canonical_hash") canonicalHash: Chunk[Byte], @SqlName("status") status: SchemaStatus, @SqlName("supersedes_schema_id") supersedesSchemaId: Option[java.util.UUID], @SqlName("created_at") createdAt: java.time.OffsetDateTime) derives DbCodec
object SchemaRegistry {
  opaque type Id = java.util.UUID
  object Id {
    def apply(schemaId: java.util.UUID): Id = schemaId
    def unwrap(id: Id): java.util.UUID = id
  }
  given given_DbCodec_Id: DbCodec[Id] =
    scala.compiletime.summonInline[DbCodec[java.util.UUID]].biMap(value => Id(value), id => Id.unwrap(id))
  final case class Creator(id: Option[SchemaRegistry.Id] = None, orgId: Option[java.util.UUID] = None, schemaUrn: String, schemaJson: Json, canonicalHash: Chunk[Byte], status: Option[SchemaStatus] = None, supersedesSchemaId: Option[java.util.UUID] = None, createdAt: Option[java.time.OffsetDateTime] = None) derives DbCodec
  val repo = Repo[SchemaRegistry.Creator, SchemaRegistry, SchemaRegistry.Id]
}
@Table(PostgresDbType) final case class Org(@Id @SqlName("org_id") orgId: java.util.UUID, @SqlName("tenant_id") tenantId: java.util.UUID, @SqlName("name") name: String, @SqlName("status") status: LifecycleStatus, @SqlName("created_at") createdAt: java.time.OffsetDateTime) derives DbCodec
object Org {
  opaque type Id = java.util.UUID
  object Id {
    def apply(orgId: java.util.UUID): Id = orgId
    def unwrap(id: Id): java.util.UUID = id
  }
  given given_DbCodec_Id: DbCodec[Id] =
    scala.compiletime.summonInline[DbCodec[java.util.UUID]].biMap(value => Id(value), id => Id.unwrap(id))
  final case class Creator(id: Option[Org.Id] = None, tenantId: java.util.UUID, name: String, status: Option[LifecycleStatus] = None, createdAt: Option[java.time.OffsetDateTime] = None) derives DbCodec
  val repo = Repo[Org.Creator, Org, Org.Id]
}
@Table(PostgresDbType) final case class Tenant(@Id @SqlName("tenant_id") tenantId: java.util.UUID, @SqlName("name") name: String, @SqlName("status") status: LifecycleStatus, @SqlName("created_at") createdAt: java.time.OffsetDateTime) derives DbCodec
object Tenant {
  opaque type Id = java.util.UUID
  object Id {
    def apply(tenantId: java.util.UUID): Id = tenantId
    def unwrap(id: Id): java.util.UUID = id
  }
  given given_DbCodec_Id: DbCodec[Id] =
    scala.compiletime.summonInline[DbCodec[java.util.UUID]].biMap(value => Id(value), id => Id.unwrap(id))
  final case class Creator(id: Option[Tenant.Id] = None, name: String, status: Option[LifecycleStatus] = None, createdAt: Option[java.time.OffsetDateTime] = None) derives DbCodec
  val repo = Repo[Tenant.Creator, Tenant, Tenant.Id]
}
object Schemas {
  given vDocUploadClaimsSchema: Schema[VDocUploadClaims] = DeriveSchema.gen[VDocUploadClaims]
  given schemaRegistrySchema: Schema[SchemaRegistry] = DeriveSchema.gen[SchemaRegistry]
  given schemaRegistryIdSchema: Schema[SchemaRegistry.Id] =
    scala.compiletime.summonInline[Schema[java.util.UUID]].transform(value => SchemaRegistry.Id(value), id => SchemaRegistry.Id.unwrap(id))
  given orgSchema: Schema[Org] = DeriveSchema.gen[Org]
  given orgIdSchema: Schema[Org.Id] =
    scala.compiletime.summonInline[Schema[java.util.UUID]].transform(value => Org.Id(value), id => Org.Id.unwrap(id))
  given tenantSchema: Schema[Tenant] = DeriveSchema.gen[Tenant]
  given tenantIdSchema: Schema[Tenant.Id] =
    scala.compiletime.summonInline[Schema[java.util.UUID]].transform(value => Tenant.Id(value), id => Tenant.Id.unwrap(id))
}
